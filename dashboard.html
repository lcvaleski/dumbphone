<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Guides - CorePhone</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="core.svg">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;1,400&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Loading state -->
<div id="db-loading" class="db-loading">
    <div class="db-loading-inner">
        <div class="db-spinner"></div>
        <p>Verifying your orderâ€¦</p>
    </div>
</div>

<!-- Error / manual entry state -->
<div id="db-gate" class="db-gate" style="display:none">
    <div class="container">
        <div class="db-gate-card">
            <div class="db-gate-logo">
                <img src="core.svg" alt="CorePhone" class="logo">
                <span class="logo-text">CorePhone</span>
            </div>
            <h1>Access your guides</h1>
            <p class="db-gate-subtitle">Enter the email address and order number from your confirmation email.</p>

            <div id="db-gate-error" class="db-gate-error" style="display:none"></div>

            <form id="db-verify-form" class="db-verify-form">
                <div class="db-field">
                    <label for="db-email">Email address</label>
                    <input type="email" id="db-email" name="email" placeholder="you@example.com" required autocomplete="email">
                </div>
                <div class="db-field">
                    <label for="db-order">Order number</label>
                    <input type="text" id="db-order" name="order" placeholder="e.g. 12345" required>
                </div>
                <button type="submit" class="db-submit-btn">
                    <span class="db-submit-label">Access my guides</span>
                    <span class="db-submit-spinner" style="display:none"></span>
                </button>
            </form>

            <p class="db-gate-help">Need help? Email <a href="mailto:hello@corephone.org">hello@corephone.org</a></p>
        </div>
    </div>
</div>

<!-- Dashboard (authenticated) -->
<div id="db-content" class="db-page" style="display:none">

    <!-- Top bar -->
    <div class="db-topbar">
        <div class="container">
            <div class="db-topbar-inner">
                <div class="db-topbar-logo">
                    <img src="core.svg" alt="CorePhone" class="logo">
                    <span class="logo-text">CorePhone</span>
                </div>
                <button id="db-logout" class="db-logout-btn">Sign out</button>
            </div>
        </div>
    </div>

    <!-- Hero -->
    <section class="db-hero">
        <div class="container">
            <h1>Your <span class="underline-accent">2026 Tech Parenting</span> guides</h1>
            <p class="db-hero-sub">Step-by-step instructions to lock down your child's iPhone â€” for good.</p>
        </div>
    </section>

    <!-- Tab nav -->
    <div class="db-tabs-wrap">
        <div class="container">
            <nav class="db-tabs" role="tablist">
                <button class="db-tab active" data-tab="configurator" data-color="blue" role="tab" aria-selected="true">
                    <span class="db-tab-icon">âš™ï¸</span>
                    <span class="db-tab-label">Apple Configurator</span>
                </button>
                <button class="db-tab" data-tab="screentime" data-color="amber" role="tab" aria-selected="false">
                    <span class="db-tab-icon">â±ï¸</span>
                    <span class="db-tab-label">Screen Time</span>
                </button>
                <button class="db-tab" data-tab="blocking" data-color="red" role="tab" aria-selected="false">
                    <span class="db-tab-icon">ğŸ›¡ï¸</span>
                    <span class="db-tab-label">Blocking Apps</span>
                </button>
                <button class="db-tab" data-tab="newsletter" data-color="green" role="tab" aria-selected="false">
                    <span class="db-tab-icon">ğŸ“¬</span>
                    <span class="db-tab-label">Newsletter</span>
                </button>
            </nav>
        </div>
    </div>

    <!-- Tab panels -->
    <div class="db-panels">

            <!-- Apple Configurator -->
            <div id="tab-configurator" class="db-panel active" role="tabpanel" data-guide="configurator">
                <div class="guide-progress-bar"><div class="guide-progress-fill"></div></div>
                <div class="guide-stage">
                    <!-- Step cards -->
                    <div class="guide-card active" data-step="0">
                        <div class="guide-card-eyebrow">Apple Configurator Â· Step 1 of 5</div>
                        <h2 class="guide-card-title">Download Apple Configurator 2</h2>
                        <p class="guide-card-body">Open the Mac App Store and search for <strong>Apple Configurator 2</strong>. It's free. You'll need a Mac â€” this tool is Mac-only.</p>
                    </div>
                    <div class="guide-card" data-step="1">
                        <div class="guide-card-eyebrow">Apple Configurator Â· Step 2 of 5</div>
                        <h2 class="guide-card-title">Connect &amp; supervise the iPhone</h2>
                        <p class="guide-card-body">Plug the iPhone into your Mac via USB. In Apple Configurator, go to <strong>Actions â†’ Prepare</strong> and follow the prompts. This supervises the device â€” do it before handing it to your child.</p>
                        <div class="guide-card-callout warn">âš ï¸ Supervision erases all data. Restore from backup <em>after</em>.</div>
                    </div>
                    <div class="guide-card" data-step="2">
                        <div class="guide-card-eyebrow">Apple Configurator Â· Step 3 of 5</div>
                        <h2 class="guide-card-title">Create a configuration profile</h2>
                        <p class="guide-card-body">Click <strong>File â†’ New Profile</strong>. Name it "Family Controls". Under <strong>Restrictions</strong>, disable app installation, Safari, passcode changes, and AirDrop.</p>
                        <ul class="guide-card-list">
                            <li>Disable installing apps</li>
                            <li>Disable Safari</li>
                            <li>Force content filter</li>
                            <li>Prevent passcode changes</li>
                        </ul>
                    </div>
                    <div class="guide-card" data-step="3">
                        <div class="guide-card-eyebrow">Apple Configurator Â· Step 4 of 5</div>
                        <h2 class="guide-card-title">Push the profile to the device</h2>
                        <p class="guide-card-body">With the iPhone connected, drag your <code>.mobileconfig</code> file onto it in Apple Configurator â€” or go to <strong>Actions â†’ Add â†’ Profiles</strong>. Installs silently.</p>
                        <div class="guide-card-callout good">âœ“ Because the device is supervised, your child cannot remove this profile or reset Screen Time. It's hardware-enforced.</div>
                    </div>
                    <div class="guide-card" data-step="4">
                        <div class="guide-card-eyebrow">Apple Configurator Â· Step 5 of 5</div>
                        <h2 class="guide-card-title">Set a passcode they don't know</h2>
                        <p class="guide-card-body">In the profile's <strong>Passcode</strong> payload, enforce minimum complexity and a max number of failed attempts. Layer Screen Time â†’ Communication Limits on top for extra control.</p>
                        <a href="https://support.apple.com/guide/apple-configurator-2/welcome/mac" target="_blank" rel="noopener" class="guide-card-link">Official Apple Configurator docs â†’</a>
                    </div>
                    <!-- Done card -->
                    <div class="guide-card guide-done-card" data-step="5">
                        <div class="guide-done-icon">âœ“</div>
                        <h2 class="guide-card-title">Guide complete</h2>
                        <p class="guide-card-body">You've set up hardware-enforced parental controls. Check the other guides for Screen Time and app blocking layers.</p>
                    </div>
                </div>
                <div class="guide-controls">
                    <button class="guide-btn guide-prev" disabled>â† Back</button>
                    <div class="guide-dots"></div>
                    <button class="guide-btn guide-next">Next â†’</button>
                </div>
            </div>

            <!-- Screen Time -->
            <div id="tab-screentime" class="db-panel" role="tabpanel" data-guide="screentime">
                <div class="guide-progress-bar"><div class="guide-progress-fill"></div></div>
                <div class="guide-stage">
                    <div class="guide-card active" data-step="0">
                        <div class="guide-card-eyebrow">Screen Time Â· Step 1 of 5</div>
                        <h2 class="guide-card-title">Turn on Screen Time</h2>
                        <p class="guide-card-body">Go to <strong>Settings â†’ Screen Time â†’ Turn On Screen Time</strong>. Tap <strong>"This is my child's iPhone"</strong>. Set a passcode only you know.</p>
                        <div class="guide-card-callout warn">âš ï¸ Use a random 6-digit code stored in your password manager â€” not a birthday.</div>
                    </div>
                    <div class="guide-card" data-step="1">
                        <div class="guide-card-eyebrow">Screen Time Â· Step 2 of 5</div>
                        <h2 class="guide-card-title">Enable Content &amp; Privacy Restrictions</h2>
                        <p class="guide-card-body">Under <strong>Screen Time â†’ Content &amp; Privacy Restrictions</strong>, toggle it on and set:</p>
                        <ul class="guide-card-list">
                            <li>Installing Apps â†’ Don't Allow</li>
                            <li>Disable Safari &amp; unwanted apps</li>
                            <li>Web Content â†’ Limit Adult Websites</li>
                            <li>Prevent Location Services changes</li>
                        </ul>
                    </div>
                    <div class="guide-card" data-step="2">
                        <div class="guide-card-eyebrow">Screen Time Â· Step 3 of 5</div>
                        <h2 class="guide-card-title">Set App Limits</h2>
                        <p class="guide-card-body">Under <strong>App Limits â†’ Add Limit</strong>, pick a specific app or category. Set it to 0 minutes and enable <strong>Block at End of Limit</strong> to effectively lock it out.</p>
                    </div>
                    <div class="guide-card" data-step="3">
                        <div class="guide-card-eyebrow">Screen Time Â· Step 4 of 5</div>
                        <h2 class="guide-card-title">Restrict communication</h2>
                        <p class="guide-card-body">Under <strong>Communication Limits</strong>, set who your child can call and text. Restrict to your family's contacts only â€” both during normal hours and during Downtime.</p>
                    </div>
                    <div class="guide-card" data-step="4">
                        <div class="guide-card-eyebrow">Screen Time Â· Step 5 of 5</div>
                        <h2 class="guide-card-title">Enable Family Sharing</h2>
                        <p class="guide-card-body">Go to <strong>Settings â†’ [Your Name] â†’ Family Sharing</strong> to manage Screen Time remotely. Time extension requests come to your phone as notifications.</p>
                        <div class="guide-card-callout good">âœ“ Pair with Apple Configurator supervision so your child can't bypass Screen Time by signing out of iCloud.</div>
                    </div>
                    <div class="guide-card guide-done-card" data-step="5">
                        <div class="guide-done-icon">âœ“</div>
                        <h2 class="guide-card-title">Guide complete</h2>
                        <p class="guide-card-body">Screen Time is live. For stronger protection, combine it with the Apple Configurator guide.</p>
                    </div>
                </div>
                <div class="guide-controls">
                    <button class="guide-btn guide-prev" disabled>â† Back</button>
                    <div class="guide-dots"></div>
                    <button class="guide-btn guide-next">Next â†’</button>
                </div>
            </div>

            <!-- Blocking Apps -->
            <div id="tab-blocking" class="db-panel" role="tabpanel" data-guide="blocking">
                <div class="guide-progress-bar"><div class="guide-progress-fill"></div></div>
                <div class="guide-stage">
                    <div class="guide-card active" data-step="0">
                        <div class="guide-card-eyebrow">Blocking Apps Â· Step 1 of 5</div>
                        <h2 class="guide-card-title">Block via App Limits</h2>
                        <p class="guide-card-body">Go to <strong>Screen Time â†’ App Limits â†’ Add Limit</strong>. Pick TikTok, Instagram, or any app. Set the daily limit to 1 minute and enable <strong>"Block at End of Limit"</strong>.</p>
                        <p class="guide-card-body">To hide the icon entirely: delete the app and disable App Store installs under Content &amp; Privacy Restrictions.</p>
                    </div>
                    <div class="guide-card" data-step="1">
                        <div class="guide-card-eyebrow">Blocking Apps Â· Step 2 of 5</div>
                        <h2 class="guide-card-title">Block websites in Screen Time</h2>
                        <p class="guide-card-body">Go to <strong>Content Restrictions â†’ Web Content â†’ Limit Adult Websites â†’ Never Allow</strong>. Add domains:</p>
                        <ul class="guide-card-list">
                            <li>tiktok.com</li>
                            <li>instagram.com</li>
                            <li>snapchat.com</li>
                            <li>x.com &amp; twitter.com</li>
                            <li>reddit.com</li>
                        </ul>
                        <div class="guide-card-callout warn">âš ï¸ This blocks the website â€” the native app still works unless blocked separately.</div>
                    </div>
                    <div class="guide-card" data-step="2">
                        <div class="guide-card-eyebrow">Blocking Apps Â· Step 3 of 5</div>
                        <h2 class="guide-card-title">Add DNS-level filtering</h2>
                        <p class="guide-card-body">DNS filtering blocks domains at the network level â€” even inside apps. Install a profile via <strong>Settings â†’ General â†’ VPN &amp; Device Management</strong>.</p>
                        <p class="guide-card-body"><strong>NextDNS</strong> and <strong>CleanBrowsing</strong> offer free profiles that block thousands of social, adult, and gambling domains automatically.</p>
                    </div>
                    <div class="guide-card" data-step="3">
                        <div class="guide-card-eyebrow">Blocking Apps Â· Step 4 of 5</div>
                        <h2 class="guide-card-title">Allowlist only specific apps via MDM</h2>
                        <p class="guide-card-body">In Apple Configurator, go to <strong>Restrictions â†’ Applications â†’ Allow specific apps</strong> and add only the bundle IDs you want:</p>
                        <ul class="guide-card-list">
                            <li><code>com.apple.mobilephone</code></li>
                            <li><code>com.apple.MobileSMS</code></li>
                            <li><code>com.apple.maps</code></li>
                        </ul>
                    </div>
                    <div class="guide-card" data-step="4">
                        <div class="guide-card-eyebrow">Blocking Apps Â· Step 5 of 5</div>
                        <h2 class="guide-card-title">Remove the browser entirely</h2>
                        <p class="guide-card-body">The most common bypass: kids use Safari or Chrome to reach blocked apps on the web.</p>
                        <ul class="guide-card-list">
                            <li>Screen Time â†’ Allowed Apps â†’ Safari: OFF</li>
                            <li>Delete Chrome &amp; Firefox</li>
                            <li>Web Content â†’ Allowed Websites Only â†’ zero sites</li>
                        </ul>
                        <div class="guide-card-callout good">âœ“ No browser + App Store disabled = nothing new can be installed or accessed.</div>
                    </div>
                    <div class="guide-card guide-done-card" data-step="5">
                        <div class="guide-done-icon">âœ“</div>
                        <h2 class="guide-card-title">Guide complete</h2>
                        <p class="guide-card-body">All three blocking layers are in place. Sign up for the newsletter to stay ahead of new workarounds.</p>
                    </div>
                </div>
                <div class="guide-controls">
                    <button class="guide-btn guide-prev" disabled>â† Back</button>
                    <div class="guide-dots"></div>
                    <button class="guide-btn guide-next">Next â†’</button>
                </div>
            </div>

            <!-- Newsletter -->
            <div id="tab-newsletter" class="db-panel" role="tabpanel">
                <div class="guide-newsletter-wrap">
                    <div class="guide-newsletter-card">
                        <div class="guide-newsletter-icon">ğŸ“¬</div>
                        <h2>Stay one step ahead</h2>
                        <p>Kids find new workarounds. iOS updates shift what's possible. Our monthly newsletter covers what's changed and what to do about it.</p>
                        <ul class="guide-newsletter-perks">
                            <li>New apps parents should know about</li>
                            <li>iOS update impact on parental controls</li>
                            <li>Workarounds kids are using â€” and how to close them</li>
                            <li>Q&amp;A from other parents</li>
                        </ul>
                        <form class="db-newsletter-form" action="https://app.convertkit.com/forms/subscribe" method="post" target="_blank">
                            <input type="hidden" name="form_id" value="newsletter">
                            <input type="email" name="email_address" placeholder="your@email.com" required class="db-newsletter-input">
                            <button type="submit" class="db-newsletter-btn">Subscribe â€” it's free</button>
                        </form>
                        <p class="db-newsletter-note">No spam. Unsubscribe anytime.</p>
                    </div>
                </div>
            </div>

    </div><!-- /.db-panels -->

    <!-- Footer -->
    <footer class="db-footer">
        <div class="container">
            <p>Â© 2026 CorePhone Â· <a href="mailto:hello@corephone.org">hello@corephone.org</a> Â· <a href="/terms.html">Terms</a></p>
        </div>
    </footer>

</div><!-- /#db-content -->

<script>
(function () {
    const TOKEN_KEY = 'cp_access_token';
    const ORDER_KEY = 'cp_order_id';

    // â”€â”€ helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    function showState(id) {
        ['db-loading', 'db-gate', 'db-content'].forEach(function (s) {
            var el = document.getElementById(s);
            if (el) el.style.display = s === id ? '' : 'none';
        });
    }

    function showError(msg) {
        var el = document.getElementById('db-gate-error');
        el.textContent = msg;
        el.style.display = '';
    }

    function clearError() {
        var el = document.getElementById('db-gate-error');
        el.style.display = 'none';
    }

    async function callVerify(orderId, email) {
        var params = new URLSearchParams({ order_id: orderId, email: email });
        var res = await fetch('/api/verify?' + params.toString());
        var body = await res.json();
        if (!res.ok) throw new Error(body.error || 'Verification failed');
        return body; // { verified, token, order_id }
    }

    function storeSession(token, orderId) {
        localStorage.setItem(TOKEN_KEY, token);
        localStorage.setItem(ORDER_KEY, orderId);
    }

    function clearSession() {
        localStorage.removeItem(TOKEN_KEY);
        localStorage.removeItem(ORDER_KEY);
    }

    // â”€â”€ step navigator â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    function initGuide(panel) {
        var cards = Array.from(panel.querySelectorAll('.guide-card'));
        var dotsWrap = panel.querySelector('.guide-dots');
        var prevBtn = panel.querySelector('.guide-prev');
        var nextBtn = panel.querySelector('.guide-next');
        var progressFill = panel.querySelector('.guide-progress-fill');
        var total = cards.length - 1; // last card is the done card
        var current = 0;

        // Build dots (exclude done card)
        for (var i = 0; i < total; i++) {
            var dot = document.createElement('button');
            dot.className = 'guide-dot' + (i === 0 ? ' active' : '');
            dot.setAttribute('aria-label', 'Step ' + (i + 1));
            (function(idx) { dot.addEventListener('click', function() { goTo(idx); }); })(i);
            dotsWrap.appendChild(dot);
        }

        function goTo(idx) {
            cards[current].classList.remove('active');
            current = idx;
            cards[current].classList.add('active');

            var dots = dotsWrap.querySelectorAll('.guide-dot');
            dots.forEach(function(d, i) { d.classList.toggle('active', i === current); });

            prevBtn.disabled = current === 0;
            nextBtn.textContent = current >= total ? 'Start over' : (current === total - 1 ? 'Finish âœ“' : 'Next â†’');

            var pct = current >= total ? 100 : Math.round((current / total) * 100);
            progressFill.style.width = pct + '%';
        }

        prevBtn.addEventListener('click', function() {
            if (current > 0) goTo(current - 1);
        });
        nextBtn.addEventListener('click', function() {
            if (current < total) goTo(current + 1);
            else goTo(0); // restart
        });

        goTo(0);
    }

    // â”€â”€ tab logic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    function initTabs() {
        var tabs = document.querySelectorAll('.db-tab');
        tabs.forEach(function (tab) {
            tab.addEventListener('click', function () {
                var target = tab.dataset.tab;
                tabs.forEach(function (t) {
                    t.classList.remove('active');
                    t.setAttribute('aria-selected', 'false');
                });
                document.querySelectorAll('.db-panel').forEach(function (p) {
                    p.classList.remove('active');
                });
                tab.classList.add('active');
                tab.setAttribute('aria-selected', 'true');
                var panel = document.getElementById('tab-' + target);
                if (panel) panel.classList.add('active');
            });
        });

        // Init step guides
        document.querySelectorAll('.db-panel[data-guide]').forEach(function(panel) {
            initGuide(panel);
        });
    }

    // â”€â”€ main flow â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    async function boot() {
        // 1. Check localStorage for existing token
        var storedToken = localStorage.getItem(TOKEN_KEY);
        var storedOrder = localStorage.getItem(ORDER_KEY);
        if (storedToken && storedOrder) {
            initTabs();
            showState('db-content');
            return;
        }

        // 2. Check URL params
        var params = new URLSearchParams(window.location.search);
        var urlOrderId = params.get('order_id');
        var urlEmail = params.get('email');

        if (urlOrderId && urlEmail) {
            try {
                var result = await callVerify(urlOrderId, urlEmail);
                storeSession(result.token, urlOrderId);
                // Clean up URL without reload
                window.history.replaceState({}, '', '/dashboard');
                initTabs();
                showState('db-content');
            } catch (err) {
                // URL params failed â€” show manual form with message
                showState('db-gate');
                showError('We could not automatically verify your order. Please enter your details below.');
            }
            return;
        }

        // 3. Nothing to try â€” show gate
        showState('db-gate');
    }

    // â”€â”€ form submission â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    function initForm() {
        var form = document.getElementById('db-verify-form');
        if (!form) return;

        form.addEventListener('submit', async function (e) {
            e.preventDefault();
            clearError();

            var email = document.getElementById('db-email').value.trim();
            var rawOrder = document.getElementById('db-order').value.trim();
            // Strip leading # if user typed it
            var orderId = rawOrder.replace(/^#/, '');

            var label = form.querySelector('.db-submit-label');
            var spinner = form.querySelector('.db-submit-spinner');
            var btn = form.querySelector('.db-submit-btn');
            btn.disabled = true;
            label.style.display = 'none';
            spinner.style.display = '';

            try {
                var result = await callVerify(orderId, email);
                storeSession(result.token, orderId);
                initTabs();
                showState('db-content');
            } catch (err) {
                showError(err.message || 'Could not verify your order. Check the details and try again.');
            } finally {
                btn.disabled = false;
                label.style.display = '';
                spinner.style.display = 'none';
            }
        });
    }

    // â”€â”€ logout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    function initLogout() {
        var btn = document.getElementById('db-logout');
        if (btn) {
            btn.addEventListener('click', function () {
                clearSession();
                showState('db-gate');
            });
        }
    }

    // â”€â”€ init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    document.addEventListener('DOMContentLoaded', function () {
        initForm();
        initLogout();
        boot();
    });

})();
</script>

</body>
</html>
